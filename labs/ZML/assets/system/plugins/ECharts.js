ZML.FactoryMap.ECHARTS=function(){function b(){this.view=this.view.clone()}b.prototype=new ZML.BasicCanvas;b.prototype.constructComplete=function(){this.init();ZML.BasicCanvas.prototype.constructComplete.call(this)};b.prototype.init=function(){function b(){var a=ZML.Application.instance().container.contentLayer.data("scale"),a=a==void 0?1:Number(a);switch(ZML.Application.instance().container.scaleStyle){case "zoom":e.css("zoom",1/a);break;case "transform":e.css("transform","matrix("+1/a+",0,0,"+1/
a+",0,0)")}c.width(g.view.innerWidth()*a);c.height(g.view.innerHeight()*a);f!=void 0&&f.resize()}var g=this,e=$("<div>",{style:"position:absolute;"});e.prependTo(this.view);var c=$("<div>",{style:"position:absolute;"});c.prependTo(e);this.data.fixed==void 0||this.data.fixed=="true"?($(window).resize(b),b()):(c.width(this.view.innerWidth()),c.height(this.view.innerHeight()));var f=echarts.init(c.get(0)),d=this.data.children("Option").text(),d=eval(d);if(d.isOptionObjReady!=void 0)d.onReady(function(a){f.setOption(a)});
else f.setOption(d)};return b}();
