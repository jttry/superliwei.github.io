var ZUI={};ZUI.Lang={};ZUI.Lang.render=function(b){this.findItems(b).each(function(){var a=$(this).attr("data-lang"),a=a.substr(1,a.length-2);$(this).text(eval(a))})};ZUI.Lang.findItems=function(b){return b==void 0?$("*[data-lang^='{'][data-lang$='}']"):b.find("*[data-lang^='{'][data-lang$='}']")};ZUI.Accordion=function(b){var a=this;this.view=b.view;b=this.view.find("> .title");this.view.find("> .content");b.click(function(){var c=$(this);if(!c.hasClass("active")){var d=a.view.find("> .title.active");d.length>0&&(d.removeClass("active"),d.next().removeClass("active"));c!=null&&(c.addClass("active"),c.next().addClass("active"))}})};ZUI.CheckBox=function(b){var a=this;this.view=b.view;this.box=$("<div class='box'>");this.box.appendTo(this.view);this.check=$("<div class='check'>&radic;</div>");this.check.appendTo(this.view);this.box.click(function(){a.check.toggle();a.view.trigger(ZUI.Input.CHANGE)});this.getValue=function(){return a.check.css("display")=="block"};this.setValue=function(c){a.check[c?"show":"hide"]()}};ZUI.CheckBox.CHANGE="ZUI_CheckBox_Change";ZUI.ComboBox=function(b){function a(a){d.label.attr("data-lang",a.data("lang"));ZUI.Lang.render(d.box);e=a}function c(a){a&&a.target===d.box.get(0)||(d.box.removeClass("dropdown"),d.list.hide())}var d=this,e=null;this.view=b.view;this.box=$("<div class='box'>");this.box.appendTo(this.view);this.label=$("<div class='label'>");this.label.appendTo(this.box);this.arrow=$("<div class='arrow'><div class='icon'></div></div>");this.arrow.appendTo(this.box);this.list=this.view.find(".list");this.list.find(".item").each(function(){$(this).mousedown(function(a){a.stopPropagation()});
$(this).click(function(){c();var b=$(this);e!==b&&(a(b),d.view.trigger(ZUI.ComboBox.CHANGE))})});this.box.click(function(){d.box.addClass("dropdown");d.list.show()});$(document).on("mousedown",c);this.view.on(ZUI.ComboBox.DISPOSE,function(){d.dispose()});this.getValue=function(){return e==null?void 0:e.data("value")};this.setValue=function(c){c=this.list.find(".item[data-value="+c+"]");a(c)};this.dispose=function(){$(document).off("mousedown",c)}};ZUI.ComboBox.CHANGE="ZUI_ComboBox_Change";
ZUI.ComboBox.DISPOSE="ZUI_ComboBox_Dispose";ZUI.Input=function(b){var a=this;this.view=b.view;this.input=$("<input type='text'>");this.input.appendTo(this.view);this.getValue=function(){return a.input.val()};this.setValue=function(a){this.input.val(a)};this.input.change(function(){a.view.trigger(ZUI.Input.CHANGE,a.input.val())})};ZUI.Input.CHANGE="ZUI_Input_Change";ZUI.Menu=function(b){function a(a){var b=a.find(".arrow");b.length==0&&(b=$('<div class="arrow">'),b.appendTo(a),a.find(">.menu").length>0&&$('<i class="icon-caret-right"></i>').appendTo(b));var g=this;a.mouseover(function(){d!==g&&(d!=void 0&&(d.hideMenu(),d=void 0),g.showMenu(),d=g)});a.click(function(){if(!a.hasClass("disabled")&&!(a.find(">.menu").length>0)){var b=c.view.data("owner");b.hideMenu();b.view.trigger(ZUI.Menu.ITEM_CLICK,a)}});this.showMenu=function(){if(!a.hasClass("disabled")){var b=
a.find(">.menu");if(b.length>0)a.addClass("selected"),c.view.data("owner").view.trigger(ZUI.Menu.OPEN,b),this.menu=new ZUI.Menu({view:b.clone()}),this.menu.view.data("owner",c.view.data("owner")),this.menu.view.css("display","block"),this.menu.view.appendTo("body"),this.menu.view.offset({left:a.offset().left+a.width(),top:a.offset().top})}};this.hideMenu=function(){if(this.menu!=void 0)a.removeClass("selected"),this.menu.view.remove(),this.menu.hideSubMenu(),this.menu=void 0}}var c=this;this.view=
b.view;this.view.find(">.item").each(function(){new a($(this))});var d;this.hideSubMenu=function(){d!=void 0&&d.hideMenu()}};ZUI.Menu.OPEN="ZUI_Menu_Open";ZUI.Menu.ITEM_CLICK="ZUI_Menu_ItemClick";ZUI.MenuBar=function(b){function a(a){f&&e!==a&&(e!=void 0&&(e.hideMenu(),e=void 0),a!=null&&a.showMenu(),e=a)}function c(b){var c=this;b.mousedown(function(){f||(f=!0,a(c))});b.mouseover(function(){a(c)});this.showMenu=function(){var a=b.find(">.menu");if(a.length>0)b.addClass("selected"),d.view.trigger(ZUI.Menu.OPEN,a),this.menu=new ZUI.Menu({view:a.clone()}),this.menu.view.data("owner",d),this.menu.view.css("display","block"),this.menu.view.appendTo("body"),this.menu.view.offset({left:b.offset().left,
top:b.offset().top+b.height()})};this.hideMenu=function(){if(this.menu!=void 0)b.removeClass("selected"),this.menu.view.remove(),this.menu.hideSubMenu(),this.menu=void 0}}this.view=b.view;this.view.find(">.item").each(function(){new c($(this))});var d=this;$(document).mousedown(function(a){a=$(a.target).parent();!a.hasClass("zui menubar")&&!a.parent().hasClass("zui menubar")&&(a.hasClass("zui menu")&&a.data("owner")===d||d.hideMenu())});var e,f=!1;this.hideMenu=function(){a(null);f=!1}};ZUI.PopWin=function(b){var a=this;this.view=b.view;this.view.find(".titleBar .remove").click(function(){a.hide()});var c=$("<div class='zui mask'></div>");this.show=function(){c.insertBefore(this.view);this.view.css("display","flex");this.view.css("left","calc(50% - "+this.view.outerWidth()*0.5+"px)");this.view.css("top","calc(50% - "+this.view.outerHeight()*0.5+"px)")};this.hide=function(){this.view.css("display","none");c.remove()}};ZUI.Slider=function(b){var a=this;this.view=b.view;this.value=b.value!=void 0?b.value:0;this.min=b.min!=void 0?b.min:0;this.max=b.max!=void 0?b.max:1;this.bar=$("<div class='bar'>");this.bar.appendTo(this.view);this.overBar=$("<div class='overBar'>");this.overBar.appendTo(this.view);this.dragger=$("<div class='dragger'><div class='box'></div></div>");this.dragger.appendTo(this.overBar);this.bar.click(function(b){b=b.clientX-$(this).offset().left;b=a.getValueByDraggerLeft(b);a.setValue(b);a.view.trigger(ZUI.Slider.CHANGE)});
this.dragger.mousedown(function(b){function d(b){b.preventDefault();h=!0;var b=g+b.pageX-f,c=a.bar.outerWidth(),b=b<0?0:b,b=a.getValueByDraggerLeft(b>c?c:b);a.setValue(b);a.view.trigger(ZUI.Slider.UPDATE)}function e(){$(document).off("mousemove",d);$(document).off("mouseup",e);h&&a.view.trigger(ZUI.Slider.CHANGE)}var f=b.pageX,g=parseInt(a.dragger.css("left")),h=!1;$(document).on("mousemove",d);$(document).on("mouseup",e)});this.getValueByDraggerLeft=function(b){b/=a.bar.outerWidth();b=a.min+(a.max-
a.min)*b;return b=b.toFixed(2)};this.getValue=function(){return this.value};this.setValue=function(a){this.dragger.css("left",(a-this.min)/(this.max-this.min)*100+"%");this.value=a};this.setValue(this.value)};ZUI.Slider.UPDATE="ZUI_Slider_Update";ZUI.Slider.CHANGE="ZUI_Slider_Change";(function(){function b(b){$.fn[b]=function(){var c=[];this.each(function(){var f=$(this);f.data("instance",f.data("instance")||new a[b]({view:f}));c.push(f.data("instance"))});if(c.length!=0){if(c.length==1)return c[0];return c}}}var a={zui_combobox:ZUI.ComboBox,zui_accordion:ZUI.Accordion,zui_checkbox:ZUI.CheckBox,zui_input:ZUI.Input,zui_menubar:ZUI.MenuBar,zui_slider:ZUI.Slider,zui_popwin:ZUI.PopWin},c;for(c in a)new b(c)})();
$(function(){$(".zui.combobox").zui_combobox();$(".zui.accordion").zui_accordion();$(".zui.checkbox").zui_checkbox();$(".zui.input").zui_input();$(".zui.menubar").zui_menubar();$(".zui.slider").zui_slider();$(".zui.popwin").zui_popwin();ZUI.Lang.render()});
